datasource db {
  provider = "mysql"
  url      = env("AUTH_DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  output   = "../generated/auth-client"
}

model users {
  id           Int            @id @default(autoincrement())
  user_name    String         @db.VarChar(50)
  company      String         @db.VarChar(100)
  email        String         @db.Text
  password     String         @db.Text
  created_at   DateTime       @default(now()) @db.Timestamp(0)
  updated_at   DateTime       @default(now()) @db.Timestamp(0)
  suspended    Int            @default(0) @db.TinyInt
  subscription subscription[]
}

model subscription {
  id         Int      @id @default(autoincrement())
  user       Int
  sub_date   DateTime @db.Date
  pkg        String   @db.Text
  payment_id String   @db.Text
  created_at DateTime @default(now()) @db.Timestamp(0)
  updated_at DateTime @default(now()) @db.Timestamp(0)
  users      users    @relation(fields: [user], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_subId_userId")
  @@index([user], map: "fk_subId_userId")
}